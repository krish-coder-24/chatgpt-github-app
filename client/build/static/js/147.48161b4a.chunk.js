"use strict";(self.webpackChunkvitalai_client=self.webpackChunkvitalai_client||[]).push([[147],{7147:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var s=r(5043),n=r(9183),a=r(1985),o=r(1951),i=r(7),c=r(579);function l(e){let{speaking:t,emotion:r,heartRate:a}=e;const o=(0,s.useRef)(),[i,l]=(0,s.useState)(!1);return(0,n.F)(e=>{const r=.05*Math.sin(2*e.clock.elapsedTime)+1;o.current&&(o.current.scale.y=r,t&&(o.current.rotation.y=.1*Math.sin(8*e.clock.elapsedTime)),a>100?o.current.material.color.setHex(16739179):a>80?o.current.material.color.setHex(16767293):o.current.material.color.setHex(7651580))}),(0,c.jsxs)("group",{children:[(0,c.jsxs)("mesh",{ref:o,position:[0,0,0],onPointerOver:()=>l(!0),onPointerOut:()=>l(!1),children:[(0,c.jsx)("sphereGeometry",{args:[1.2,32,32]}),(0,c.jsx)("meshPhongMaterial",{color:i?"#a5d8ff":"#74c0fc",transparent:!0,opacity:.9,shininess:100})]}),(0,c.jsxs)("mesh",{position:[-1.5,0,0],rotation:[0,0,Math.PI/2],children:[(0,c.jsx)("cylinderGeometry",{args:[.3,.3,1.5]}),(0,c.jsx)("meshPhongMaterial",{color:"#74c0fc",transparent:!0,opacity:.8})]}),(0,c.jsxs)("mesh",{position:[1.5,0,0],rotation:[0,0,Math.PI/2],children:[(0,c.jsx)("cylinderGeometry",{args:[.3,.3,1.5]}),(0,c.jsx)("meshPhongMaterial",{color:"#74c0fc",transparent:!0,opacity:.8})]}),(0,c.jsxs)("mesh",{position:[-.5,-1.8,0],children:[(0,c.jsx)("cylinderGeometry",{args:[.4,.4,1.8]}),(0,c.jsx)("meshPhongMaterial",{color:"#74c0fc",transparent:!0,opacity:.8})]}),(0,c.jsxs)("mesh",{position:[.5,-1.8,0],children:[(0,c.jsx)("cylinderGeometry",{args:[.4,.4,1.8]}),(0,c.jsx)("meshPhongMaterial",{color:"#74c0fc",transparent:!0,opacity:.8})]})]})}function h(e){let{speaking:t,emotion:r}=e;const a=(0,s.useRef)(),o=(0,s.useRef)(),i=(0,s.useRef)();return(0,n.F)(e=>{if(t&&a.current&&(a.current.rotation.x=.1*Math.sin(6*e.clock.elapsedTime)),o.current&&i.current)switch(r){case"happy":o.current.scale.y=.6,i.current.scale.y=.6;break;case"concerned":o.current.rotation.z=.2,i.current.rotation.z=-.2;break;case"surprised":o.current.scale.y=1.5,i.current.scale.y=1.5;break;default:o.current.scale.y=1,i.current.scale.y=1,o.current.rotation.z=0,i.current.rotation.z=0}}),(0,c.jsxs)("group",{ref:a,position:[0,2,0],children:[(0,c.jsxs)("mesh",{position:[0,0,0],children:[(0,c.jsx)("sphereGeometry",{args:[.8,32,32]}),(0,c.jsx)("meshPhongMaterial",{color:"#74c0fc",transparent:!0,opacity:.9})]}),(0,c.jsxs)("mesh",{ref:o,position:[-.25,.1,.7],children:[(0,c.jsx)("boxGeometry",{args:[.15,.3,.1]}),(0,c.jsx)("meshBasicMaterial",{color:"#000"})]}),(0,c.jsxs)("mesh",{ref:i,position:[.25,.1,.7],children:[(0,c.jsx)("boxGeometry",{args:[.15,.3,.1]}),(0,c.jsx)("meshBasicMaterial",{color:"#000"})]})]})}function p(e){let{heartRate:t,visible:r}=e;const a=(0,s.useRef)();return(0,n.F)(e=>{if(a.current&&r&&t>0){const r=t/100;a.current.rotation.y+=.01*r;const s=.3*Math.sin(e.clock.elapsedTime*(t/10))+1;a.current.scale.setScalar(s)}}),r&&t?(0,c.jsx)("group",{ref:a,position:[0,0,0],children:Array.from({length:20}).map((e,r)=>(0,c.jsxs)("mesh",{position:[2*Math.cos(r/20*Math.PI*2),2*Math.sin(r/20*Math.PI*2),0],children:[(0,c.jsx)("sphereGeometry",{args:[.05,8,8]}),(0,c.jsx)("meshBasicMaterial",{color:t>100?"#ff6b6b":"#ff8787",transparent:!0,opacity:.7})]},r))}):null}function m(e){let{heartRate:t,emotion:r,speaking:s}=e;return(0,c.jsxs)("group",{position:[0,3.5,0],children:[(0,c.jsx)(o.E,{fontSize:.3,color:"#495057",anchorX:"center",anchorY:"middle",children:s?"\ud83d\udde3\ufe0f Speaking...":`\ud83d\udc9d Heart Rate: ${t||"--"} BPM`}),(0,c.jsxs)(o.E,{fontSize:.25,color:"#6c757d",anchorX:"center",anchorY:"middle",position:[0,-.5,0],children:["\ud83d\ude0a Emotion: ",r||"neutral"]})]})}const u=e=>{let{speaking:t=!1,emotion:r="neutral",heartRate:s=0,showHeartRate:n=!1,message:u="",onInteraction:x=()=>{}}=e;return(0,c.jsx)("div",{style:{width:"100%",height:"500px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:(0,c.jsxs)(a.Hl,{camera:{position:[0,2,8],fov:50},gl:{antialias:!0},children:[(0,c.jsx)("ambientLight",{intensity:.6}),(0,c.jsx)("directionalLight",{position:[10,10,5],intensity:.8,castShadow:!0}),(0,c.jsx)("pointLight",{position:[0,5,0],intensity:.5,color:"#a5d8ff"}),(0,c.jsx)(l,{speaking:t,emotion:r,heartRate:s}),(0,c.jsx)(h,{speaking:t,emotion:r}),(0,c.jsx)(p,{heartRate:s,visible:n}),(0,c.jsx)(m,{heartRate:s,emotion:r,speaking:t}),u&&(0,c.jsxs)(o.E,{fontSize:.4,color:"#fff",anchorX:"center",anchorY:"middle",position:[0,-3,0],maxWidth:8,children:["\ud83d\udcac ",u]}),(0,c.jsx)(i.N,{enablePan:!1,enableZoom:!0,enableRotate:!0,maxPolarAngle:Math.PI/2,minDistance:5,maxDistance:15})]})})}}}]);
//# sourceMappingURL=147.48161b4a.chunk.js.map